@startuml
title Diagrama de Componentes - Sistema "Seu Cantinho"

rectangle "Camada de Apresentação" {
    component "Interface Web" as WebUI
    component "API REST Controller" as API
}

rectangle "Camada de Negócio" {
    component "Módulo de Reservas" as Reservas
    component "Módulo de Espaços" as Espacos
    component "Módulo de Clientes" as Clientes
    component "Módulo de Pagamentos" as Pagamentos
    component "Módulo de Autenticação e Usuários" as Auth
    component "Módulo de Relatórios e Auditoria" as Relatorios
}

rectangle "Camada de Persistência" {
    component "Repositórios / ORM" as ORM
    database "Banco de Dados Centralizado (PostgreSQL)" as DB
    storage "Armazenamento de Fotos (S3 ou equivalente)" as Storage
}

' Conexões entre as camadas
WebUI --> API : HTTP/HTTPS
API --> Reservas
API --> Espacos
API --> Clientes
API --> Pagamentos
API --> Auth
API --> Relatorios

' Dependências de negócio
Reservas --> ORM
Espacos --> ORM
Clientes --> ORM
Pagamentos --> ORM
Auth --> ORM
Relatorios --> ORM

' Banco de dados e storage
ORM --> DB
Espacos --> Storage

' Serviços externos opcionais
component "Serviço de Notificações (E-mail/SMS)" as Notificacoes
Pagamentos --> Notificacoes
Reservas --> Notificacoes

@enduml
