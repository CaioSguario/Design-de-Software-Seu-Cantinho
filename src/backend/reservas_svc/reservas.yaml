reservas:
  get:
    summary: Lista todas as reservas
    responses:
      '200':
        description: Lista de reservas

  post:
    summary: Cria uma nova reserva
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../schemas/reserva.yaml"
    responses:
      '201':
        description: Reserva criada com sucesso

  options:
    summary: Lista métodos permitidos
    responses:
      '200':
        description: Métodos permitidos
        headers:
          Allow:
            schema:
              type: string
              example: GET,POST,PUT,PATCH,DELETE,OPTIONS,HEAD

reservasId:
  get:
    summary: Retorna uma reserva pelo ID
    parameters:
    - in: path
      name: id
      required: true
      schema:
        type: integer
    responses:
      '200':
        description: Reserva encontrada
      '404':
        description: Reserva não encontrada

  put:
    summary: Substitui uma reserva existente
    parameters:
    - in: path
      name: id
      required: true
      schema:
        type: integer
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../schemas/reserva.yaml"
    responses:
      '200':
        description: Reserva atualizada
      '404':
        description: Reserva não encontrada

  patch:
    summary: Atualiza parcialmente uma reserva
    parameters:
    - in: path
      name: id
      required: true
      schema:
        type: integer
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              espaco_id:
                type: integer
              cliente_id:
                type: integer
              data_inicio:
                type: string
                format: date-time
              data_fim:
                type: string
                format: date-time
              status:
                type: integer
              status_pagamento:
                type: integer
              preco_total:
                type: number
    responses:
      '200':
        description: Reserva atualizada parcialmente
      '404':
        description: Reserva não encontrada

  delete:
    summary: Remove uma reserva
    parameters:
    - in: path
      name: id
      required: true
      schema:
        type: integer
    responses:
      '204':
        description: Reserva removida com sucesso
      '404':
        description: Reserva não encontrada

  head:
    summary: Verifica existência da reserva
    parameters:
    - in: path
      name: id
      required: true
      schema:
        type: integer
    responses:
      '200':
        description: Reserva existe
      '404':
        description: Reserva não encontrada


type: object
required:
  - id
  - espaco_id
  - cliente_id
  - data_inicio
  - data_fim
  - status
  - status_pagamento
  - preco_total
properties:
  id:
    type: integer
  espaco_id:
    type: integer
  cliente_id:
    type: integer
  data_inicio:
    type: string
    format: date-time
  data_fim:
    type: string
    format: date-time
  status:
    type: integer
  status_pagamento:
    type: integer
  preco_total:
    type: number
  criado_em:
    type: string
    format: date-time

